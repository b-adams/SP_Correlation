<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Pearson and Spearman correlation with restricted permutation: SP_Correlation/SP_Correlation/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pearson and Spearman correlation with restricted permutation&#160;<span id="projectnumber">1.0.beta (0c0a5c7)</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('main_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SP_Correlation/SP_Correlation/main.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="functions_8h_source.html">functions.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="defines_8h_source.html">defines.h</a>&quot;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
<code>#include &lt;time.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="tests_8h_source.html">tests.h</a>&quot;</code><br/>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Include dependency graph for main.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c__incl.jpg" border="0" usemap="#_s_p___correlation_2_s_p___correlation_2main_8c" alt=""/></div>
<map name="_s_p___correlation_2_s_p___correlation_2main_8c" id="_s_p___correlation_2_s_p___correlation_2main_8c">
<area shape="rect" id="node7" href="functions_8h.html" title="functions.h" alt="" coords="228,83,313,111"/><area shape="rect" id="node13" href="defines_8h.html" title="defines.h" alt="" coords="153,161,228,189"/><area shape="rect" id="node20" href="tests_8h.html" title="tests.h" alt="" coords="511,83,571,111"/></map>
</div>
</div>
<p><a href="main_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ac0f2228420376f4db7e1274f2b41667c">main</a> (int argc, const char *argv[])</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Entry point for program.  <a href="#ac0f2228420376f4db7e1274f2b41667c"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><dl class="author"><dt><b>Author:</b></dt><dd>Bryant Adams </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>3/20/12 </dd></dl>

<p>Definition in file <a class="el" href="main_8c_source.html">main.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac0f2228420376f4db7e1274f2b41667c"></a><!-- doxytag: member="main.c::main" ref="ac0f2228420376f4db7e1274f2b41667c" args="(int argc, const char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Entry point for program. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Number of command line arguments </td></tr>
    <tr><td class="paramname">argv</td><td>Array of command line arguments </td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Side Effects:</b></dt><dd>Warns on bad syntax. Passes arguments for processing. </dd></dl>

<p>Definition at line <a class="el" href="main_8c_source.html#l00022">22</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>

<p>References <a class="el" href="functions_8c.html#a6949ec7f262c57131a8fe871562c3072">processFilePairs()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//if(true) runTests();</span>
    <span class="comment">//return -1;</span>
    <span class="comment">//if(true) makeTestFiles();</span>
    <span class="keywordtype">int</span> timestamp = (unsigned)time(NULL);
    <span class="keywordtype">int</span> fields;
    
    <span class="keywordflow">if</span>(argc%2 != 0 || argc&lt;4)
    {
        printf(<span class="stringliteral">&quot;Syntax:\n&quot;</span>);
        printf(<span class="stringliteral">&quot;%s {trials} F1a.tdv F2a.tdv F1b.tdv F2b.tdv ...\n&quot;</span>, argv[0]);
        <span class="keywordflow">return</span> EXIT_FAILURE;
    }
    <span class="keywordtype">int</span> trials = atoi(argv[1]);
    <span class="keywordflow">if</span>(trials&lt;=0)
    {
        printf(<span class="stringliteral">&quot;{trials} must be an integer greater than 0\n&quot;</span>);
        <span class="keywordflow">return</span> EXIT_FAILURE;
    }
    fields = argc-2;

    srand(timestamp); <span class="comment">//Seed random number generator</span>

    <span class="keywordtype">char</span> fname[100];
    sprintf(fname, <span class="stringliteral">&quot;testinfo.%d.report.txt&quot;</span>, timestamp);
    
    FILE* output = fopen(fname, <span class="stringliteral">&quot;w&quot;</span>);

    fprintf(output, <span class="stringliteral">&quot;Processing based on command:\n\t&quot;</span>);
    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;argc; i++) fprintf(output, <span class="stringliteral">&quot;%s &quot;</span>, argv[i]);
    fprintf(output, <span class="stringliteral">&quot;\n\n&quot;</span>);

    <span class="keywordflow">if</span>(fields%2==0 &amp;&amp; fields%3==0) 
        fprintf(output, <span class="stringliteral">&quot;WARNING: Unable to infer from number of fields whether you want a Mantel or Partial Mantel test. I&#39;ll try both.\n&quot;</span>);
    <span class="keywordflow">if</span>(fields%2==0)
    {
        fprintf(output, <span class="stringliteral">&quot;Processing %d-field Mantel Test on:\n&quot;</span>, fields/2);
        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;fields/2; i++)
        {
            fprintf(output, <span class="stringliteral">&quot;\t%s vs %s\n&quot;</span>, argv[2*i+2], argv[2*i+3]);
        }
        fprintf(output, <span class="stringliteral">&quot;Timestamp: %d\n&quot;</span>,timestamp);
        <a class="code" href="functions_8c.html#a6949ec7f262c57131a8fe871562c3072" title="Creates files containing data on Spearman and Person correlation of inputs.">processFilePairs</a>(trials, fields/2, argv, timestamp);
    }
    
    fprintf(output, <span class="stringliteral">&quot;\n\n&quot;</span>);
    timestamp++;
    <span class="comment">/* Partial tests</span>
<span class="comment">    if(fields%3==0)</span>
<span class="comment">    {</span>
<span class="comment">        printf(&quot;Processing %d-field Partial Mantel Test on:\n&quot;, fields/3);</span>
<span class="comment">        for(int i=0; i&lt;fields/3; i++)</span>
<span class="comment">        {</span>
<span class="comment">            printf(&quot;\t%s vs %s given %s\n&quot;, argv[3*i+2], argv[3*i+3], argv[3*i+4]);</span>
<span class="comment">        }</span>
<span class="comment">        printf(&quot;Timestamp: %d\n&quot;,timestamp);</span>
<span class="comment">        processFileTriples(trials, fields/3, argv, timestamp);</span>
<span class="comment">    }</span>
<span class="comment">    */</span>
    fprintf(output, <span class="stringliteral">&quot;\n\n&quot;</span>);

    fclose(output);
    printf(<span class="stringliteral">&quot;\nWriting results to testdata.%d.*\n&quot;</span>,timestamp); 

    <span class="keywordflow">return</span> EXIT_SUCCESS;
}
</pre></div>
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="main_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph.jpg" border="0" usemap="#main_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph" alt=""/></div>
<map name="main_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph" id="main_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph">
<area shape="rect" id="node3" href="functions_8c.html#a6949ec7f262c57131a8fe871562c3072" title="Creates files containing data on Spearman and Person correlation of inputs." alt="" coords="104,778,224,806"/><area shape="rect" id="node5" href="functions_8c.html#a444dcc993609c6489485ac2c8188fcae" title="Run input data through multiple correlations." alt="" coords="298,362,430,390"/><area shape="rect" id="node58" href="functions_8c.html#a6267f604ac35e90b65cbe1c3eae58e3f" title="makeLandscapeFromTDVs" alt="" coords="272,751,456,779"/><area shape="rect" id="node78" href="functions_8c.html#aff19a4a5aaec473105d4a5d4e9789b01" title="modifyLandscapeRankify" alt="" coords="279,803,449,831"/><area shape="rect" id="node86" href="functions_8c.html#aa42c3ab687c8536d260fbc8388256a93" title="Saves statistical data to file." alt="" coords="325,881,403,909"/><area shape="rect" id="node7" href="functions_8c.html#a59ff7101150e6e5e2c6e6f50bcfb12cb" title="allocateArrayOfFloats" alt="" coords="976,543,1125,571"/><area shape="rect" id="node9" href="functions_8c.html#a40812c1eaed6c213144f3b13e58782f6" title="allocateCA" alt="" coords="784,50,870,78"/><area shape="rect" id="node11" href="functions_8c.html#a2fd1e5571923fc68ae401485bc085773" title="allocateList" alt="" coords="1007,673,1095,701"/><area shape="rect" id="node13" href="functions_8c.html#ac6c4bce116d2993154938171c6aef72a" title="allocateStatData" alt="" coords="531,147,650,175"/><area shape="rect" id="node15" href="functions_8c.html#a6cf3d34eddabb9ee602c25472f078111" title="computeRankInList" alt="" coords="523,725,658,753"/><area shape="rect" id="node25" href="functions_8c.html#a257fecc2c446418fe1d42698618d6d31" title="Sort a list (heapsort)" alt="" coords="767,881,886,909"/><area shape="rect" id="node33" href="functions_8c.html#a834a79f2d2f491d6a87c764be4c8448f" title="Find correlation of two sets of fields." alt="" coords="555,199,626,227"/><area shape="rect" id="node48" href="functions_8c.html#a5d8ad753d33a600594e23986d9de46b6" title="modifyLandscapeMeanify" alt="" coords="504,5,677,33"/><area shape="rect" id="node52" href="functions_8c.html#a785db0f71a519af460ebfef534b030d3" title="Change a permutation." alt="" coords="516,310,665,338"/><area shape="rect" id="node17" href="functions_8c.html#a30b854c06bfaa7c0011c843e30c79741" title="allocateRankAndCount" alt="" coords="748,777,906,805"/><area shape="rect" id="node19" href="functions_8c.html#a133585fccc54d65b69507e14c7d32147" title="Check if inputs are in desired order." alt="" coords="1174,855,1240,883"/><area shape="rect" id="node21" href="functions_8c.html#a5a3329ce0862e715dfb93b62ca8821af" title="Create a List by copying another list." alt="" coords="763,725,890,753"/><area shape="rect" id="node27" href="functions_8c.html#ad182f3e2b7e6073a2a3fd22b79d713f5" title="Utility function for sorting." alt="" coords="986,881,1115,909"/><area shape="rect" id="node30" href="functions_8c.html#a25266d8778ca9edbc01a819ee7d9ec76" title="Exchange contents of two float variables." alt="" coords="1176,907,1237,935"/><area shape="rect" id="node36" href="functions_8c.html#a551f0c6076ac7bb614d39fda244ae9dc" title="Augment a correlation aggregate with information from two fields." alt="" coords="755,102,898,130"/><area shape="rect" id="node44" href="functions_8c.html#a86ef022db9245d00a26cbf7f6766b46f" title="Extract result from correlation aggregate." alt="" coords="768,154,886,182"/><area shape="rect" id="node46" href="functions_8c.html#a07887e192a22755215cfcf55e9ef4c1c" title="Initialize a correlation aggregate." alt="" coords="783,206,870,234"/><area shape="rect" id="node38" href="functions_8c.html#a2ae423689cfcfaf75418e97d83e5ff98" title="Add data to a correlation aggregate." alt="" coords="977,141,1124,169"/><area shape="rect" id="node40" href="functions_8c.html#a5914ca4c0ca4afcf8a42c0df84f4bd94" title="Display field data on screen." alt="" coords="1005,89,1097,117"/><area shape="rect" id="node42" href="functions_8c.html#af6567d9dec3a46844857345855e3ab70" title="isInLowerDiagonal" alt="" coords="985,11,1116,39"/><area shape="rect" id="node54" href="functions_8c.html#a4945c65494ab79b5c7ef649740d0d0e3" title="Generate random number in a given range." alt="" coords="1001,283,1100,311"/><area shape="rect" id="node56" href="functions_8c.html#a63e535b72d4061dbe83544791e1a2ab9" title="Exchange contents of two int variables." alt="" coords="799,310,855,338"/><area shape="rect" id="node60" href="functions_8c.html#a5d8a8a88126524d5ad0f7eeb7a8894b6" title="allocateArrayOfFields" alt="" coords="516,829,665,857"/><area shape="rect" id="node62" href="functions_8c.html#afc44de3bb7cd0de2070dfb6235bf60f5" title="allocateLandscape" alt="" coords="524,881,657,909"/><area shape="rect" id="node64" href="functions_8c.html#aad1d4e3edde4e4414e4cdba10fa2e55c" title="Load a tab&#45;delimited&#45;value file into a Field." alt="" coords="520,517,661,545"/><area shape="rect" id="node66" href="functions_8c.html#aab10e4592df2a3494b02df726c6d12bd" title="allocateArrayOfArraysOfFloats" alt="" coords="726,569,928,597"/><area shape="rect" id="node69" href="functions_8c.html#abf28da69e6f378a22152cd06cad3cd1b" title="allocateField" alt="" coords="779,517,875,545"/><area shape="rect" id="node71" href="functions_8c.html#a12c08c3c9910b8bb23946fd87bb934a2" title="Creates a permutation of a given size." alt="" coords="784,362,870,390"/><area shape="rect" id="node73" href="functions_8c.html#a8de84798bc038c619790f7dc84765ffb" title="allocateArrayOfInts" alt="" coords="983,401,1118,429"/><area shape="rect" id="node75" href="functions_8c.html#a8678690bd003877324888352b3108af1" title="allocatePermutation" alt="" coords="981,349,1120,377"/><area shape="rect" id="node81" href="functions_8c.html#a0cb44e1625767f4072c3aed962dc6f69" title="Flatten a 2D field to a 1D list." alt="" coords="741,673,912,701"/><area shape="rect" id="node88" href="functions_8c.html#ae0977f93e60a30bd361d95a5ec204020" title="Output a list to file." alt="" coords="535,985,646,1013"/></map>
</div>
</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="main_8c.html">main.c</a>      </li>
      <li class="footer">Generated on Mon May 21 2012 15:02:37 for Pearson and Spearman correlation with restricted permutation by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>

</body>
</html>
